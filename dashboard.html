<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Moniepoint Agent</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- everything currently inside body goes here -->
       <!-- DASHBOARD NAVBAR -->
    <header>
        <nav class="navbar">
            <h2 class="logo">Agent Dashboard</h2>
            <ul class="nav-links">
                <li><a href="dashboard.html">Home</a></li>
                <li><a href="https://wa.me/234********?text=Hello%20I%20need%20POS%20Support" target="_blank">WhatsApp Support</a></li>
                <li><a href="signin.html">Log Out</a></li>
            </ul>
        </nav>
    </header>

    <!-- WELCOME SECTION -->
    <section class="hero">
        <h1>Welcome, Agent</h1>
        <p>Here you can ask questions, request support, or read other agent experiences.</p>
    </section>

    <!-- FEATURES SECTION -->
    <section class="features">
        <div class="card">
            <h3>Ask a Question</h3>
            <p>Got an issue with your POS? Ask here and get help quickly.</p>
            <a href="#" class="btn">Ask Now</a>
        </div>

        <!-- COMMENTS / QUESTIONS SECTION -->
<section class="comments-section">
    <h2>Agent Questions & Comments</h2>

<!-- CUSTOMER SUPPORT WALL -->
<section class="support-wall">
    <h2>Customer Support Wall</h2>

    <!-- Form to post a new question -->
    <form id="postForm">
        <input type="text" id="posterName" placeholder="Your Name" required>
        <textarea id="postText" placeholder="Type your question or complaint..." required></textarea>
        <button type="submit" class="btn">Post</button>
    </form>

    <!-- Feed of posts -->
    <div id="postsContainer">
        <!-- All posts will appear here -->
    </div>
</section>


    <form id="commentForm">
        <input type="text" id="commenterName" placeholder="Your Name" required>
        <textarea id="commentText" placeholder="Type your question or comment..." required></textarea>
        <button type="submit" class="btn">Post Comment</button>
    </form>

    <div id="commentsList">
        <!-- Comments will appear here -->
    </div>
</section>


        <div class="card">
            <h3>View Comments</h3>
            <p>Read questions and solutions posted by other agents.</p>
            <a href="#" class="btn">View</a>
        </div>

        <div class="card">
            <h3>Support & Repairs</h3>
            <p>Request repair or technical support.</p>
            <a href="https://wa.me/234********?text=Hello%20I%20want%20technical%20support" class="btn" target="_blank">Request</a>
        </div>
    </section>
  </div>
  <script>
const commentForm = document.getElementById('commentForm');
const commentsList = document.getElementById('commentsList');

// Load comments from localStorage on page load
let comments = JSON.parse(localStorage.getItem('comments')) || [];
renderComments();

// Add new comment
commentForm.addEventListener('submit', function(event){
    event.preventDefault();

    let name = document.getElementById('commenterName').value;
    let text = document.getElementById('commentText').value;

    if(name === "" || text === ""){
        alert("Please fill in both fields");
        return;
    }

    let newComment = {name: name, text: text};
    comments.push(newComment);

    // Save to localStorage
    localStorage.setItem('comments', JSON.stringify(comments));

    // Clear form
    commentForm.reset();

    renderComments();
});

// Render comments & add delete functionality
function renderComments(){
    commentsList.innerHTML = '';
    comments.forEach(function(comment, index){
        const div = document.createElement('div');
        div.classList.add('comment-card');
        div.innerHTML = `
            <h4>${comment.name}</h4>
            <p>${comment.text}</p>
            <button class="delete-btn" data-index="${index}">Delete</button>
        `;
        commentsList.appendChild(div);
    });

    // Delete comment
    document.querySelectorAll('.delete-btn').forEach(function(btn){
        btn.addEventListener('click', function(){
            let idx = this.getAttribute('data-index');
            comments.splice(idx, 1); // remove from array
            localStorage.setItem('comments', JSON.stringify(comments)); // update storage
            renderComments(); // re-render comments
        });
    });
}
</script>

<script>
const sendBtn = document.getElementById('sendBtn');
const userInput = document.getElementById('userInput');
const chatWindow = document.getElementById('chatWindow');

function getAIResponse(text){
    text = text.toLowerCase();

    const responses = [
        {keywords: ["activation", "activate", "start pos"], reply: "To activate your Moniepoint POS, connect to strong network and follow the on-screen steps. If activation fails, contact your aggregator."},
        {keywords: ["repair", "fault", "issue", "problem", "not working"], reply: "Restart the terminal and check network first. If problem continues, request repair using the Support & Repairs button."},
        {keywords: ["chargeback", "dispute", "money not reversed", "failed transaction"], reply: "Failed or pending transactions are usually reversed within 24 hours automatically. If not, submit a DISPITE request from your Moniepoint app menu."},
        {keywords: ["buy", "purchase", "get pos", "where can i buy"], reply: "Visit the nearest Moniepoint agent office or contact your aggregator for POS purchase."},
        {keywords: ["charges", "fee", "how much"], reply: "Transaction charges vary. Log into your Moniepoint app and check the fee section for updated charges."},
        {keywords: ["withdrawal", "deposit", "transfer"], reply: "Ensure strong network and sufficient balance. If transactions fail, wait for reversal or contact support."},
        {keywords: ["support", "help"], reply: "Use the WhatsApp support button above or drop a comment below to get assistance."},
        {keywords: ["hello", "hi"], reply: "Hello Agent! How can I assist you today?"}
    ];

    for(let item of responses){
        if(item.keywords.some(word => text.includes(word))){
            return item.reply;
        }
    }

    return "ðŸ¤– I don't fully understand that yet. Please ask clearly or contact WhatsApp support.";
}

// Send message
sendBtn.addEventListener('click', function(){
    let text = userInput.value.trim();
    if(text === "") return;

    // Show user message
    let userDiv = document.createElement('div');
    userDiv.classList.add('user-msg');
    userDiv.textContent = text;
    chatWindow.appendChild(userDiv);

    // AI reply
    let aiDiv = document.createElement('div');
    aiDiv.classList.add('ai-msg');
    aiDiv.textContent = getAIResponse(text);
    chatWindow.appendChild(aiDiv);

    userInput.value = "";
    chatWindow.scrollTop = chatWindow.scrollHeight;
});
</script>

  
</body>
</html>




